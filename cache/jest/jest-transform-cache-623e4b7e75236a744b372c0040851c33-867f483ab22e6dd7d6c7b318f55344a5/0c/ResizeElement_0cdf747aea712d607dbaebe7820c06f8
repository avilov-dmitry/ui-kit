456b77353e371763fa1f65de24b1838b
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.ElementResizeListener = void 0;
var react_1 = __importStar(require("react"));
var ElementResizeListener = function (_a) {
    var onResize = _a.onResize;
    var objectRef = react_1.useRef(null);
    var handleResize = react_1.useCallback(function () {
        if (objectRef.current) {
            onResize({
                width: objectRef.current.clientWidth,
                height: objectRef.current.clientHeight,
            });
        }
    }, []);
    var handleLoad = react_1.useCallback(function () {
        var _a, _b;
        handleResize();
        (_b = (_a = objectRef === null || objectRef === void 0 ? void 0 : objectRef.current) === null || _a === void 0 ? void 0 : _a.contentWindow) === null || _b === void 0 ? void 0 : _b.addEventListener('resize', handleResize);
    }, []);
    react_1.useEffect(function () {
        return function () { var _a, _b; return (_b = (_a = objectRef === null || objectRef === void 0 ? void 0 : objectRef.current) === null || _a === void 0 ? void 0 : _a.contentWindow) === null || _b === void 0 ? void 0 : _b.addEventListener('resize', handleResize); };
    }, []);
    return (react_1.default.createElement("object", { ref: objectRef, tabIndex: -1, type: "text/html", data: "about:blank", onLoad: handleLoad, style: {
            position: 'absolute',
            top: 0,
            left: 0,
            height: '100%',
            width: '100%',
            pointerEvents: 'none',
            zIndex: -1,
            opacity: 0,
        } }));
};
exports.ElementResizeListener = ElementResizeListener;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2RtaXRyeS5hdmlsb3YvYS9teS91aS1raXQvc3JjL2NvbXBvbmVudHMvUmVzaXplRWxlbWVudC9SZXNpemVFbGVtZW50LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkNBQTRGO0FBR3JGLElBQU0scUJBQXFCLEdBQXNELFVBQUMsRUFFeEY7UUFERyxRQUFRLGNBQUE7SUFFUixJQUFNLFNBQVMsR0FBaUMsY0FBTSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBRTdELElBQU0sWUFBWSxHQUFHLG1CQUFXLENBQUM7UUFDN0IsSUFBSSxTQUFTLENBQUMsT0FBTyxFQUFFO1lBQ25CLFFBQVEsQ0FBQztnQkFDTCxLQUFLLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxXQUFXO2dCQUNwQyxNQUFNLEVBQUUsU0FBUyxDQUFDLE9BQU8sQ0FBQyxZQUFZO2FBQ3pDLENBQUMsQ0FBQztTQUNOO0lBQ0wsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsSUFBTSxVQUFVLEdBQUcsbUJBQVcsQ0FBQzs7UUFDM0IsWUFBWSxFQUFFLENBQUM7UUFFZixNQUFBLE1BQUEsU0FBUyxhQUFULFNBQVMsdUJBQVQsU0FBUyxDQUFFLE9BQU8sMENBQUUsYUFBYSwwQ0FBRSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUM7SUFDaEYsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsaUJBQVMsQ0FBQztRQUNOLE9BQU8sMEJBQU0sT0FBQSxNQUFBLE1BQUEsU0FBUyxhQUFULFNBQVMsdUJBQVQsU0FBUyxDQUFFLE9BQU8sMENBQUUsYUFBYSwwQ0FBRSxnQkFBZ0IsQ0FBQyxRQUFRLEVBQUUsWUFBWSxDQUFDLENBQUEsRUFBQSxDQUFDO0lBQzdGLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLE9BQU8sQ0FDSCwwQ0FDSSxHQUFHLEVBQUUsU0FBUyxFQUNkLFFBQVEsRUFBRSxDQUFDLENBQUMsRUFDWixJQUFJLEVBQUMsV0FBVyxFQUNoQixJQUFJLEVBQUMsYUFBYSxFQUNsQixNQUFNLEVBQUUsVUFBVSxFQUNsQixLQUFLLEVBQUU7WUFDSCxRQUFRLEVBQUUsVUFBVTtZQUNwQixHQUFHLEVBQUUsQ0FBQztZQUNOLElBQUksRUFBRSxDQUFDO1lBQ1AsTUFBTSxFQUFFLE1BQU07WUFDZCxLQUFLLEVBQUUsTUFBTTtZQUNiLGFBQWEsRUFBRSxNQUFNO1lBQ3JCLE1BQU0sRUFBRSxDQUFDLENBQUM7WUFDVixPQUFPLEVBQUUsQ0FBQztTQUNiLEdBQ0gsQ0FDTCxDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBM0NXLFFBQUEscUJBQXFCLHlCQTJDaEMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2RtaXRyeS5hdmlsb3YvYS9teS91aS1raXQvc3JjL2NvbXBvbmVudHMvUmVzaXplRWxlbWVudC9SZXNpemVFbGVtZW50LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgRnVuY3Rpb25Db21wb25lbnQsIHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZUVmZmVjdCwgUmVmT2JqZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgRWxlbWVudFJlc2l6ZUxpc3RlbmVyUHJvcHNUeXBlIH0gZnJvbSAnLi9fdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgRWxlbWVudFJlc2l6ZUxpc3RlbmVyOiBGdW5jdGlvbkNvbXBvbmVudDxFbGVtZW50UmVzaXplTGlzdGVuZXJQcm9wc1R5cGU+ID0gKHtcbiAgICBvblJlc2l6ZSxcbn0pID0+IHtcbiAgICBjb25zdCBvYmplY3RSZWY6IFJlZk9iamVjdDxIVE1MT2JqZWN0RWxlbWVudD4gPSB1c2VSZWYobnVsbCk7XG5cbiAgICBjb25zdCBoYW5kbGVSZXNpemUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGlmIChvYmplY3RSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgb25SZXNpemUoe1xuICAgICAgICAgICAgICAgIHdpZHRoOiBvYmplY3RSZWYuY3VycmVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IG9iamVjdFJlZi5jdXJyZW50LmNsaWVudEhlaWdodCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSwgW10pO1xuXG4gICAgY29uc3QgaGFuZGxlTG9hZCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgaGFuZGxlUmVzaXplKCk7XG5cbiAgICAgICAgb2JqZWN0UmVmPy5jdXJyZW50Py5jb250ZW50V2luZG93Py5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBoYW5kbGVSZXNpemUpO1xuICAgIH0sIFtdKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIHJldHVybiAoKSA9PiBvYmplY3RSZWY/LmN1cnJlbnQ/LmNvbnRlbnRXaW5kb3c/LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgfSwgW10pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgICAgPG9iamVjdFxuICAgICAgICAgICAgcmVmPXtvYmplY3RSZWZ9XG4gICAgICAgICAgICB0YWJJbmRleD17LTF9XG4gICAgICAgICAgICB0eXBlPVwidGV4dC9odG1sXCJcbiAgICAgICAgICAgIGRhdGE9XCJhYm91dDpibGFua1wiXG4gICAgICAgICAgICBvbkxvYWQ9e2hhbmRsZUxvYWR9XG4gICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiAwLFxuICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgICAgICAgcG9pbnRlckV2ZW50czogJ25vbmUnLFxuICAgICAgICAgICAgICAgIHpJbmRleDogLTEsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgIH19XG4gICAgICAgIC8+XG4gICAgKTtcbn07XG4iXSwidmVyc2lvbiI6M30=