63bed1dae1b0fb54fbfd169f81f73e87
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Notification = void 0;
var react_1 = __importStar(require("react"));
var bind_1 = __importDefault(require("classnames/bind"));
var components_1 = require("components");
var Notification_module_scss_1 = __importDefault(require("./Notification.module.scss"));
var cn = bind_1.default.bind(Notification_module_scss_1.default);
var CLASS_NAME = 'Notification';
exports.Notification = react_1.memo(function (_a) {
    var id = _a.id, message = _a.message, _b = _a.type, type = _b === void 0 ? 'info' : _b, className = _a.className, _c = _a.delay, delay = _c === void 0 ? 3000 : _c, onClose = _a.onClose, _d = _a.withClose, withClose = _d === void 0 ? false : _d;
    var _e = react_1.useState(null), timerId = _e[0], setTimerId = _e[1];
    var handleClose = react_1.useCallback(function () { return onClose({ id: id }); }, []);
    var handleMouseEnter = react_1.useCallback(function () {
        if (timerId) {
            clearTimeout(timerId);
        }
    }, [timerId]);
    var handleMouseLeave = react_1.useCallback(function () {
        setTimerId(Number(setTimeout(handleClose, delay)));
    }, [delay]);
    react_1.useEffect(function () {
        setTimerId(Number(setTimeout(handleClose, delay)));
    }, []);
    return (react_1.default.createElement("div", { className: cn(CLASS_NAME, CLASS_NAME + "--type-" + type, className), onMouseEnter: handleMouseEnter, onMouseLeave: handleMouseLeave },
        react_1.default.createElement("span", { className: cn(CLASS_NAME + "__text") }, message),
        withClose && (react_1.default.createElement("span", { className: cn(CLASS_NAME + "__close"), onClick: handleClose },
            react_1.default.createElement(components_1.Icon, { className: cn(CLASS_NAME + "__icon") })))));
});
exports.Notification.displayName = 'Notification';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2RtaXRyeS5hdmlsb3YvYS9teS91aS1raXQvc3JjL2NvbXBvbmVudHMvTm90aWZpY2F0aW9ucy9fY29tcG9uZW50cy9Ob3RpZmljYXRpb24udHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBeUY7QUFDekYseURBQXlDO0FBQ3pDLHlDQUFrQztBQUVsQyx3RkFBZ0Q7QUFFaEQsSUFBTSxFQUFFLEdBQUcsY0FBVSxDQUFDLElBQUksQ0FBQyxrQ0FBTSxDQUFDLENBQUM7QUFDbkMsSUFBTSxVQUFVLEdBQUcsY0FBYyxDQUFDO0FBU3JCLFFBQUEsWUFBWSxHQUE2QyxZQUFJLENBQ3RFLFVBQUMsRUFBbUY7UUFBakYsRUFBRSxRQUFBLEVBQUUsT0FBTyxhQUFBLEVBQUUsWUFBYSxFQUFiLElBQUksbUJBQUcsTUFBTSxLQUFBLEVBQUUsU0FBUyxlQUFBLEVBQUUsYUFBWSxFQUFaLEtBQUssbUJBQUcsSUFBSSxLQUFBLEVBQUUsT0FBTyxhQUFBLEVBQUUsaUJBQWlCLEVBQWpCLFNBQVMsbUJBQUcsS0FBSyxLQUFBO0lBQ3hFLElBQUEsS0FBd0IsZ0JBQVEsQ0FBZ0IsSUFBSSxDQUFDLEVBQXBELE9BQU8sUUFBQSxFQUFFLFVBQVUsUUFBaUMsQ0FBQztJQUU1RCxJQUFNLFdBQVcsR0FBRyxtQkFBVyxDQUFDLGNBQU0sT0FBQSxPQUFPLENBQUMsRUFBRSxFQUFFLElBQUEsRUFBRSxDQUFDLEVBQWYsQ0FBZSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRTNELElBQU0sZ0JBQWdCLEdBQUcsbUJBQVcsQ0FBQztRQUNqQyxJQUFJLE9BQU8sRUFBRTtZQUNULFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztTQUN6QjtJQUNMLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFFZCxJQUFNLGdCQUFnQixHQUFHLG1CQUFXLENBQUM7UUFDakMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2RCxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0lBRVosaUJBQVMsQ0FBQztRQUNOLFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDO0lBRVAsT0FBTyxDQUNILHVDQUNJLFNBQVMsRUFBRSxFQUFFLENBQUMsVUFBVSxFQUFLLFVBQVUsZUFBVSxJQUFNLEVBQUUsU0FBUyxDQUFDLEVBQ25FLFlBQVksRUFBRSxnQkFBZ0IsRUFDOUIsWUFBWSxFQUFFLGdCQUFnQjtRQUU5Qix3Q0FBTSxTQUFTLEVBQUUsRUFBRSxDQUFJLFVBQVUsV0FBUSxDQUFDLElBQUcsT0FBTyxDQUFRO1FBQzNELFNBQVMsSUFBSSxDQUNWLHdDQUFNLFNBQVMsRUFBRSxFQUFFLENBQUksVUFBVSxZQUFTLENBQUMsRUFBRSxPQUFPLEVBQUUsV0FBVztZQUM3RCw4QkFBQyxpQkFBSSxJQUFDLFNBQVMsRUFBRSxFQUFFLENBQUksVUFBVSxXQUFRLENBQUMsR0FBSSxDQUMzQyxDQUNWLENBQ0MsQ0FDVCxDQUFDO0FBQ04sQ0FBQyxDQUNKLENBQUM7QUFFRixvQkFBWSxDQUFDLFdBQVcsR0FBRyxjQUFjLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2RtaXRyeS5hdmlsb3YvYS9teS91aS1raXQvc3JjL2NvbXBvbmVudHMvTm90aWZpY2F0aW9ucy9fY29tcG9uZW50cy9Ob3RpZmljYXRpb24udHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBGdW5jdGlvbkNvbXBvbmVudCwgbWVtbywgdXNlQ2FsbGJhY2ssIHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NuYW1lcyBmcm9tICdjbGFzc25hbWVzL2JpbmQnO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJ2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uQ2xvc2VUeXBlLCBOb3RpZmljYXRpb25UeXBlIH0gZnJvbSAnLi4vX3R5cGVzJztcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9Ob3RpZmljYXRpb24ubW9kdWxlLnNjc3MnO1xuXG5jb25zdCBjbiA9IGNsYXNzbmFtZXMuYmluZChzdHlsZXMpO1xuY29uc3QgQ0xBU1NfTkFNRSA9ICdOb3RpZmljYXRpb24nO1xuXG5leHBvcnQgdHlwZSBOb3RpZmljYXRpb25Qcm9wc1R5cGUgPSBOb3RpZmljYXRpb25UeXBlICYge1xuICAgIGNsYXNzTmFtZTogc3RyaW5nO1xuICAgIGRlbGF5PzogbnVtYmVyO1xuICAgIHdpdGhDbG9zZT86IGJvb2xlYW47XG4gICAgb25DbG9zZTogTm90aWZpY2F0aW9uQ2xvc2VUeXBlO1xufTtcblxuZXhwb3J0IGNvbnN0IE5vdGlmaWNhdGlvbjogRnVuY3Rpb25Db21wb25lbnQ8Tm90aWZpY2F0aW9uUHJvcHNUeXBlPiA9IG1lbW8oXG4gICAgKHsgaWQsIG1lc3NhZ2UsIHR5cGUgPSAnaW5mbycsIGNsYXNzTmFtZSwgZGVsYXkgPSAzMDAwLCBvbkNsb3NlLCB3aXRoQ2xvc2UgPSBmYWxzZSB9KSA9PiB7XG4gICAgICAgIGNvbnN0IFt0aW1lcklkLCBzZXRUaW1lcklkXSA9IHVzZVN0YXRlPG51bGwgfCBudW1iZXI+KG51bGwpO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gdXNlQ2FsbGJhY2soKCkgPT4gb25DbG9zZSh7IGlkIH0pLCBbXSk7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlTW91c2VFbnRlciA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aW1lcklkKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCBbdGltZXJJZF0pO1xuXG4gICAgICAgIGNvbnN0IGhhbmRsZU1vdXNlTGVhdmUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lcklkKE51bWJlcihzZXRUaW1lb3V0KGhhbmRsZUNsb3NlLCBkZWxheSkpKTtcbiAgICAgICAgfSwgW2RlbGF5XSk7XG5cbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIHNldFRpbWVySWQoTnVtYmVyKHNldFRpbWVvdXQoaGFuZGxlQ2xvc2UsIGRlbGF5KSkpO1xuICAgICAgICB9LCBbXSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKENMQVNTX05BTUUsIGAke0NMQVNTX05BTUV9LS10eXBlLSR7dHlwZX1gLCBjbGFzc05hbWUpfVxuICAgICAgICAgICAgICAgIG9uTW91c2VFbnRlcj17aGFuZGxlTW91c2VFbnRlcn1cbiAgICAgICAgICAgICAgICBvbk1vdXNlTGVhdmU9e2hhbmRsZU1vdXNlTGVhdmV9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPXtjbihgJHtDTEFTU19OQU1FfV9fdGV4dGApfT57bWVzc2FnZX08L3NwYW4+XG4gICAgICAgICAgICAgICAge3dpdGhDbG9zZSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y24oYCR7Q0xBU1NfTkFNRX1fX2Nsb3NlYCl9IG9uQ2xpY2s9e2hhbmRsZUNsb3NlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxJY29uIGNsYXNzTmFtZT17Y24oYCR7Q0xBU1NfTkFNRX1fX2ljb25gKX0gLz5cbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG4pO1xuXG5Ob3RpZmljYXRpb24uZGlzcGxheU5hbWUgPSAnTm90aWZpY2F0aW9uJztcbiJdLCJ2ZXJzaW9uIjozfQ==