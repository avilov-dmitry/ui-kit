03af81e91b998eb2cdd3ba4d1892d374
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || function (mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
};
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.Modal = void 0;
var react_1 = __importStar(require("react"));
var bind_1 = __importDefault(require("classnames/bind"));
var components_1 = require("components");
var Modal_module_scss_1 = __importDefault(require("./Modal.module.scss"));
var cn = bind_1.default.bind(Modal_module_scss_1.default);
var CLASS_NAME = 'Modal';
exports.Modal = react_1.memo(function (_a) {
    var isOpened = _a.isOpened, children = _a.children, _b = _a.modalClassName, modalClassName = _b === void 0 ? '' : _b, _c = _a.closeIconClassName, closeIconClassName = _c === void 0 ? '' : _c, _d = _a.withIcon, withIcon = _d === void 0 ? false : _d, onClose = _a.onClose;
    var handleDocumentKeyDown = react_1.useCallback(function (_a) {
        var keyCode = _a.keyCode;
        if (keyCode === keyCode.ESCAPE) {
            onClose();
        }
    }, [onClose]);
    react_1.useEffect(function () {
        document.addEventListener('keydown', handleDocumentKeyDown);
        return function () {
            document.removeEventListener('keydown', handleDocumentKeyDown);
        };
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []);
    return (react_1.default.createElement(components_1.Portal, { isOpened: isOpened },
        react_1.default.createElement(components_1.Overlay, null,
            react_1.default.createElement("div", { className: cn(CLASS_NAME, modalClassName) },
                withIcon && (react_1.default.createElement(components_1.Icon, { className: cn(CLASS_NAME + "__icon", closeIconClassName), onClick: onClose })),
                children))));
});
exports.Modal.displayName = 'Modal';
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiL1VzZXJzL2RtaXRyeS5hdmlsb3YvYS9teS91aS1raXQvc3JjL2NvbXBvbmVudHMvTW9kYWwvTW9kYWwudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBNEQ7QUFDNUQseURBQXlDO0FBQ3pDLHlDQUFtRDtBQUNuRCwwRUFBeUM7QUFFekMsSUFBTSxFQUFFLEdBQUcsY0FBVSxDQUFDLElBQUksQ0FBQywyQkFBTSxDQUFDLENBQUM7QUFDbkMsSUFBTSxVQUFVLEdBQUcsT0FBTyxDQUFDO0FBV2QsUUFBQSxLQUFLLEdBQTRDLFlBQUksQ0FDOUQsVUFBQyxFQU9BO1FBTkcsUUFBUSxjQUFBLEVBQ1IsUUFBUSxjQUFBLEVBQ1Isc0JBQW1CLEVBQW5CLGNBQWMsbUJBQUcsRUFBRSxLQUFBLEVBQ25CLDBCQUF1QixFQUF2QixrQkFBa0IsbUJBQUcsRUFBRSxLQUFBLEVBQ3ZCLGdCQUFnQixFQUFoQixRQUFRLG1CQUFHLEtBQUssS0FBQSxFQUNoQixPQUFPLGFBQUE7SUFFUCxJQUFNLHFCQUFxQixHQUFHLG1CQUFXLENBQ3JDLFVBQUMsRUFBVztZQUFULE9BQU8sYUFBQTtRQUNOLElBQUksT0FBTyxLQUFLLE9BQU8sQ0FBQyxNQUFNLEVBQUU7WUFDNUIsT0FBTyxFQUFFLENBQUM7U0FDYjtJQUNMLENBQUMsRUFDRCxDQUFDLE9BQU8sQ0FBQyxDQUNaLENBQUM7SUFFRixpQkFBUyxDQUFDO1FBQ04sUUFBUSxDQUFDLGdCQUFnQixDQUFDLFNBQVMsRUFBRSxxQkFBcUIsQ0FBQyxDQUFDO1FBRTVELE9BQU87WUFDSCxRQUFRLENBQUMsbUJBQW1CLENBQUMsU0FBUyxFQUFFLHFCQUFxQixDQUFDLENBQUM7UUFDbkUsQ0FBQyxDQUFDO1FBQ0YsdURBQXVEO0lBQzNELENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQztJQUVQLE9BQU8sQ0FDSCw4QkFBQyxtQkFBTSxJQUFDLFFBQVEsRUFBRSxRQUFRO1FBQ3RCLDhCQUFDLG9CQUFPO1lBQ0osdUNBQUssU0FBUyxFQUFFLEVBQUUsQ0FBQyxVQUFVLEVBQUUsY0FBYyxDQUFDO2dCQUN6QyxRQUFRLElBQUksQ0FDVCw4QkFBQyxpQkFBSSxJQUNELFNBQVMsRUFBRSxFQUFFLENBQUksVUFBVSxXQUFRLEVBQUUsa0JBQWtCLENBQUMsRUFDeEQsT0FBTyxFQUFFLE9BQU8sR0FDbEIsQ0FDTDtnQkFDQSxRQUFRLENBQ1AsQ0FDQSxDQUNMLENBQ1osQ0FBQztBQUNOLENBQUMsQ0FDSixDQUFDO0FBRUYsYUFBSyxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMiLCJuYW1lcyI6W10sInNvdXJjZXMiOlsiL1VzZXJzL2RtaXRyeS5hdmlsb3YvYS9teS91aS1raXQvc3JjL2NvbXBvbmVudHMvTW9kYWwvTW9kYWwudHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBtZW1vLCB1c2VDYWxsYmFjaywgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcy9iaW5kJztcbmltcG9ydCB7IEljb24sIFBvcnRhbCwgT3ZlcmxheSB9IGZyb20gJ2NvbXBvbmVudHMnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICcuL01vZGFsLm1vZHVsZS5zY3NzJztcblxuY29uc3QgY24gPSBjbGFzc25hbWVzLmJpbmQoc3R5bGVzKTtcbmNvbnN0IENMQVNTX05BTUUgPSAnTW9kYWwnO1xuXG5leHBvcnQgdHlwZSBNb2RhbFByb3BzVHlwZSA9IHtcbiAgICBpc09wZW5lZDogYm9vbGVhbjtcbiAgICB3aXRoSWNvbj86IGJvb2xlYW47XG4gICAgbW9kYWxDbGFzc05hbWU6IHN0cmluZztcbiAgICBjbG9zZUljb25DbGFzc05hbWU6IHN0cmluZztcbiAgICBjaGlsZHJlbjogUmVhY3QuUmVhY3ROb2RlO1xuICAgIG9uQ2xvc2U6ICgpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgY29uc3QgTW9kYWw6IFJlYWN0LkZ1bmN0aW9uQ29tcG9uZW50PE1vZGFsUHJvcHNUeXBlPiA9IG1lbW8oXG4gICAgKHtcbiAgICAgICAgaXNPcGVuZWQsXG4gICAgICAgIGNoaWxkcmVuLFxuICAgICAgICBtb2RhbENsYXNzTmFtZSA9ICcnLFxuICAgICAgICBjbG9zZUljb25DbGFzc05hbWUgPSAnJyxcbiAgICAgICAgd2l0aEljb24gPSBmYWxzZSxcbiAgICAgICAgb25DbG9zZSxcbiAgICB9KSA9PiB7XG4gICAgICAgIGNvbnN0IGhhbmRsZURvY3VtZW50S2V5RG93biA9IHVzZUNhbGxiYWNrKFxuICAgICAgICAgICAgKHsga2V5Q29kZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGtleUNvZGUgPT09IGtleUNvZGUuRVNDQVBFKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgW29uQ2xvc2VdXG4gICAgICAgICk7XG5cbiAgICAgICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVEb2N1bWVudEtleURvd24pO1xuXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBoYW5kbGVEb2N1bWVudEtleURvd24pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICAgICAgfSwgW10pO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8UG9ydGFsIGlzT3BlbmVkPXtpc09wZW5lZH0+XG4gICAgICAgICAgICAgICAgPE92ZXJsYXk+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPXtjbihDTEFTU19OQU1FLCBtb2RhbENsYXNzTmFtZSl9PlxuICAgICAgICAgICAgICAgICAgICAgICAge3dpdGhJY29uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKGAke0NMQVNTX05BTUV9X19pY29uYCwgY2xvc2VJY29uQ2xhc3NOYW1lKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17b25DbG9zZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9PdmVybGF5PlxuICAgICAgICAgICAgPC9Qb3J0YWw+XG4gICAgICAgICk7XG4gICAgfVxuKTtcblxuTW9kYWwuZGlzcGxheU5hbWUgPSAnTW9kYWwnO1xuIl0sInZlcnNpb24iOjN9